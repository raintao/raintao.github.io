(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{154:function(t,a,s){"use strict";s.r(a);var n=s(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h4",{attrs:{id:"input用h5的formdata上传多个文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#input用h5的formdata上传多个文件","aria-hidden":"true"}},[t._v("#")]),t._v(" input用H5的formData上传多个文件")]),t._v(" "),s("h5",{attrs:{id:"xmlhttprequest-level-2添加了一个新的接口formdata-利用formdata对象-我们可以通过javascript用一些键值对来模拟一系列表单控件-我们还可以使用xmlhttprequest的send-方法来异步的提交这个-表单-比起普通的ajax-使用formdata的最大优点就是我们可以异步上传多个二进制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xmlhttprequest-level-2添加了一个新的接口formdata-利用formdata对象-我们可以通过javascript用一些键值对来模拟一系列表单控件-我们还可以使用xmlhttprequest的send-方法来异步的提交这个-表单-比起普通的ajax-使用formdata的最大优点就是我们可以异步上传多个二进制文件","aria-hidden":"true"}},[t._v("#")]),t._v(' XMLHttpRequest Level 2添加了一个新的接口FormData.利用FormData对象,我们可以通过JavaScript用一些键值对来模拟一系列表单控件,我们还可以使用XMLHttpRequest的send()方法来异步的提交这个"表单".比起普通的ajax,使用FormData的最大优点就是我们可以异步上传多个二进制文件.')]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("    html代码如下：\n\n    "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("label class"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"label"')]),t._v(" for"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"uploadFujian"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      上传附件\n      "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("form style"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"display:none;"')]),t._v("  class"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"file"')]),t._v(" enctype"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"multipart/form-data"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"file"')]),t._v(" multiple"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"multiple"')]),t._v(" accept"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"*"')]),t._v("  name"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"vuefile"')]),t._v(" id"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"uploadFujian"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("/form"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("/label"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("progress class"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"progress"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("/progress"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    js代码：\n\n      "),s("span",{attrs:{class:"token variable"}},[s("span",{attrs:{class:"token variable"}},[t._v("$(")]),s("span",{attrs:{class:"token string"}},[t._v('"#uploadFujian"')]),s("span",{attrs:{class:"token variable"}},[t._v(")")])]),t._v(".change"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("function"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        var that"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("this,formData"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("new FormData"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        var files"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token variable"}},[s("span",{attrs:{class:"token variable"}},[t._v("$(")]),t._v("that"),s("span",{attrs:{class:"token variable"}},[t._v(")")])]),t._v(".get"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".files\n        if"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files.length"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("0"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          for"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var i"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("0"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("files.length"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i++"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            formData.append"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"vuefile"')]),t._v("+i,files"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        $.ajax"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          type:"),s("span",{attrs:{class:"token string"}},[t._v("'POST'")]),t._v(",\n          url:"),s("span",{attrs:{class:"token string"}},[t._v('"上传的地址"')]),t._v(",\n          xhr:function"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            var myXhr"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" $.ajaxSettings.xhr"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            if"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myXhr.upload"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              myXhr.upload.addEventListener"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'progress'")]),t._v(",_this.progressHandle,false"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" myXhr"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n          data:formData,\n          cache:false,\n          contentType:false,\n          processData:false,\n          success:function"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            //你的代码\n          "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n          error:function"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            //错误处理\n          "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        progressHandle"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          if"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e.lengthComputable"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{attrs:{class:"token variable"}},[s("span",{attrs:{class:"token variable"}},[t._v("$(")]),s("span",{attrs:{class:"token string"}},[t._v('".progress"')]),s("span",{attrs:{class:"token variable"}},[t._v(")")])]),t._v(".attr"),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value:e.loaded,max:e.total"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n")])])]),s("h6",{attrs:{id:"其中progresshandle函数是配合显示上传进度用的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其中progresshandle函数是配合显示上传进度用的","aria-hidden":"true"}},[t._v("#")]),t._v(" 其中progressHandle函数是配合显示上传进度用的")])])}],!1,null,null,null);r.options.__file="input-uploadFile.md";a.default=r.exports}}]);