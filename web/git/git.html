<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git配置 | 大漠游侠</title>
    <meta name="description" content="人这一生，是忙着生，还是忙着死">
    <link rel="icon" href="/panda.ico">
  <script src="/js/L2Dwidget.min.js"></script>
  <script src="/js/index.min.js"></script>
    
    <link rel="preload" href="/assets/css/styles.0af71052.css" as="style"><link rel="preload" href="/assets/js/app.0af71052.js" as="script"><link rel="preload" href="/assets/js/11.023f4da4.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.a8958bf5.css"><link rel="prefetch" href="/assets/css/6.styles.fb2aed5e.css"><link rel="prefetch" href="/assets/js/1.a8958bf5.js"><link rel="prefetch" href="/assets/js/10.3605eb1f.js"><link rel="prefetch" href="/assets/js/12.b9bbd9f0.js"><link rel="prefetch" href="/assets/js/13.cdafca85.js"><link rel="prefetch" href="/assets/js/14.c88d32bd.js"><link rel="prefetch" href="/assets/js/15.a7a58b0d.js"><link rel="prefetch" href="/assets/js/16.a658249d.js"><link rel="prefetch" href="/assets/js/17.876c670b.js"><link rel="prefetch" href="/assets/js/18.95741b36.js"><link rel="prefetch" href="/assets/js/19.d6e444be.js"><link rel="prefetch" href="/assets/js/2.c1d759e5.js"><link rel="prefetch" href="/assets/js/3.329b0bc7.js"><link rel="prefetch" href="/assets/js/4.d73482b4.js"><link rel="prefetch" href="/assets/js/5.978ccc24.js"><link rel="prefetch" href="/assets/js/6.fb2aed5e.js"><link rel="prefetch" href="/assets/js/7.fab73517.js"><link rel="prefetch" href="/assets/js/8.ff8758f6.js"><link rel="prefetch" href="/assets/js/9.da67d17d.js">
    <link rel="stylesheet" href="/assets/css/1.styles.a8958bf5.css"><link rel="stylesheet" href="/assets/css/6.styles.fb2aed5e.css"><link rel="stylesheet" href="/assets/css/styles.0af71052.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">大漠游侠</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/web/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/free/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/web/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/free/" class="nav-link">随笔</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>js</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>git</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/web/git/git.html" class="active sidebar-link">git的使用方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web/git/git.html#下载安装客服端sourcetree来管理" class="sidebar-link">下载安装客服端sourceTree来管理</a></li><li class="sidebar-sub-header"><a href="/web/git/git.html#下载安装git" class="sidebar-link">下载安装git</a></li><li class="sidebar-sub-header"><a href="/web/git/git.html#生成秘钥" class="sidebar-link">生成秘钥</a></li><li class="sidebar-sub-header"><a href="/web/git/git.html#配置公钥" class="sidebar-link">配置公钥</a></li><li class="sidebar-sub-header"><a href="/web/git/git.html#配置sourcetree" class="sidebar-link">配置sourceTree</a></li><li class="sidebar-sub-header"><a href="/web/git/git.html#git-常用命令" class="sidebar-link">git 常用命令</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="下载安装客服端sourcetree来管理"><a href="#下载安装客服端sourcetree来管理" aria-hidden="true" class="header-anchor">#</a> 下载安装客服端sourceTree来管理</h2> <p>在注册sourceTree的时候，需要翻墙才能注册，登陆成功</p> <h2 id="下载安装git"><a href="#下载安装git" aria-hidden="true" class="header-anchor">#</a> 下载安装git</h2> <h2 id="生成秘钥"><a href="#生成秘钥" aria-hidden="true" class="header-anchor">#</a> 生成秘钥</h2> <h4 id="安装好git和sourcetree之后，打开sourcetree，点击顶部的“命令行模式”，弹出git的窗口操作界面-或者从git-bash进入"><a href="#安装好git和sourcetree之后，打开sourcetree，点击顶部的“命令行模式”，弹出git的窗口操作界面-或者从git-bash进入" aria-hidden="true" class="header-anchor">#</a> 安装好git和sourceTree之后，打开sourceTree，点击顶部的“命令行模式”，弹出git的窗口操作界面 或者从git Bash进入</h4> <h4 id="输入如下命令以生产gitlab服务端和本地git相互传输时所需要校验的私钥和公钥。双引号内输入的是你git注册用户名-邮箱。回车后还需要输入密码等信息，可以不输入直接回车3次"><a href="#输入如下命令以生产gitlab服务端和本地git相互传输时所需要校验的私钥和公钥。双引号内输入的是你git注册用户名-邮箱。回车后还需要输入密码等信息，可以不输入直接回车3次" aria-hidden="true" class="header-anchor">#</a> 输入如下命令以生产gitlab服务端和本地git相互传输时所需要校验的私钥和公钥。双引号内输入的是你git注册用户名 邮箱。回车后还需要输入密码等信息，可以不输入直接回车3次</h4> <div class="language-bash extra-class"><pre class="language-bash"><code> $ <span class="token function">git</span> config --global user.name <span class="token string">&quot;你的用户名&quot;</span>

 $ <span class="token function">git</span> config --global user.email <span class="token string">&quot;你的邮箱&quot;</span>

 $ ssh-keygen -t rsa -C <span class="token string">&quot;你的邮箱&quot;</span>

 默认会在/c/Users/Administrator/.ssh目录中生成秘钥，如果提示已经存在 可重写，成功后如下显示：
Generating public/private rsa key pair.
Enter <span class="token function">file</span> <span class="token keyword">in</span> <span class="token function">which</span> to save the key <span class="token punctuation">(</span>/c/Users/Administrator/.ssh/id_rsa<span class="token punctuation">)</span>:
Enter passphrase <span class="token punctuation">(</span>empty <span class="token keyword">for</span> no passphrase<span class="token punctuation">)</span>:
Enter same passphrase again:
Your identification has been saved <span class="token keyword">in</span> /c/Users/Administrator/.ssh/id_rsa.
Your public key has been saved <span class="token keyword">in</span> /c/Users/Administrator/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:LpEhcgm0rrnzsEMjo/e1g8n5Xsdw/TXdvSRjihAfkGo 8888888@qq.com
The key's randomart image is:
+---<span class="token punctuation">[</span>RSA 2048<span class="token punctuation">]</span>----+
<span class="token operator">|</span> .o    <span class="token punctuation">..</span>        <span class="token operator">|</span>
<span class="token operator">|</span>   o <span class="token keyword">.</span> <span class="token punctuation">..</span>        <span class="token operator">|</span>
<span class="token operator">|</span>  o + o. <span class="token keyword">.</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token keyword">.</span> o E oo <span class="token punctuation">..</span>    +<span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token keyword">.</span> <span class="token keyword">.</span> o.S<span class="token punctuation">..</span> .+ o<span class="token operator">=</span><span class="token operator">|</span>
<span class="token operator">|</span>o<span class="token operator">=</span>     o.+. o.+.o<span class="token operator">|</span>
<span class="token operator">|</span>B<span class="token punctuation">..</span>. +o o.o.  <span class="token punctuation">..</span> <span class="token operator">|</span>
<span class="token operator">|</span>++. <span class="token operator">=</span><span class="token punctuation">..</span>+ <span class="token keyword">.</span>       <span class="token operator">|</span>
<span class="token operator">|</span>o<span class="token operator">=</span><span class="token punctuation">..</span>.o+.         <span class="token operator">|</span>
+----<span class="token punctuation">[</span>SHA256<span class="token punctuation">]</span>-----+

</code></pre></div><h2 id="配置公钥"><a href="#配置公钥" aria-hidden="true" class="header-anchor">#</a> 配置公钥</h2> <h4 id="把在-c-users-administrator-ssh目录中生成的公钥id-rsa-pub-第二个文件-粘贴在github-账户设置的ssh-key中，title可以随便取"><a href="#把在-c-users-administrator-ssh目录中生成的公钥id-rsa-pub-第二个文件-粘贴在github-账户设置的ssh-key中，title可以随便取" aria-hidden="true" class="header-anchor">#</a> 把在/c/Users/Administrator/.ssh目录中生成的公钥id_rsa.pub(第二个文件) 粘贴在gitHub 账户设置的SSH KEY中，title可以随便取</h4> <h2 id="配置sourcetree"><a href="#配置sourcetree" aria-hidden="true" class="header-anchor">#</a> 配置sourceTree</h2> <h4 id="最后一步就是在sourcetree配置与gitlab公钥对应的私钥。点顶部的工具-选项，配置ssh秘钥，有个小坑注意下：在ssh客户端选项中选择openssh，中间如果没有配好的话，在clone工程的时候，会一直提示无效的路径或没权限之类的。"><a href="#最后一步就是在sourcetree配置与gitlab公钥对应的私钥。点顶部的工具-选项，配置ssh秘钥，有个小坑注意下：在ssh客户端选项中选择openssh，中间如果没有配好的话，在clone工程的时候，会一直提示无效的路径或没权限之类的。" aria-hidden="true" class="header-anchor">#</a> 最后一步就是在sourceTree配置与gitlab公钥对应的私钥。点顶部的工具--&gt;选项，配置SSH秘钥，有个小坑注意下：在SSH客户端选项中选择OpenSSH，中间如果没有配好的话，在clone工程的时候，会一直提示无效的路径或没权限之类的。</h4> <h2 id="git-常用命令"><a href="#git-常用命令" aria-hidden="true" class="header-anchor">#</a> git 常用命令</h2> <h4 id="查看所有分支git-branch-r"><a href="#查看所有分支git-branch-r" aria-hidden="true" class="header-anchor">#</a> 查看所有分支git branch -r</h4> <h4 id="查看当前分支：git-branch"><a href="#查看当前分支：git-branch" aria-hidden="true" class="header-anchor">#</a> 查看当前分支：git branch</h4> <h4 id="查看当前分支状态：git-status"><a href="#查看当前分支状态：git-status" aria-hidden="true" class="header-anchor">#</a> 查看当前分支状态：git status</h4> <h4 id="推送分支：git-push-origin-分支名"><a href="#推送分支：git-push-origin-分支名" aria-hidden="true" class="header-anchor">#</a> 推送分支：git push origin 分支名</h4> <h4 id="切换到主分支：git-checkout-master"><a href="#切换到主分支：git-checkout-master" aria-hidden="true" class="header-anchor">#</a> 切换到主分支：git checkout master</h4> <h4 id="推送分支到主分支：git-merge-分支名"><a href="#推送分支到主分支：git-merge-分支名" aria-hidden="true" class="header-anchor">#</a> 推送分支到主分支：git merge 分支名</h4> <h4 id="查看当前总分分支的状态：git-status-（可能有没提交的commit）"><a href="#查看当前总分分支的状态：git-status-（可能有没提交的commit）" aria-hidden="true" class="header-anchor">#</a> 查看当前总分分支的状态：git status   （可能有没提交的commit）</h4> <h4 id="推送当前的主分支到远程：git-push-origin-master-origin-maste可以省略"><a href="#推送当前的主分支到远程：git-push-origin-master-origin-maste可以省略" aria-hidden="true" class="header-anchor">#</a> 推送当前的主分支到远程：git push origin master    origin maste可以省略</h4> <h4 id="找回历史提交的版本：git-reset-hard-提交哈希号"><a href="#找回历史提交的版本：git-reset-hard-提交哈希号" aria-hidden="true" class="header-anchor">#</a> 找回历史提交的版本：git reset --hard 提交哈希号</h4> <h3 id="其他基本命令"><a href="#其他基本命令" aria-hidden="true" class="header-anchor">#</a> 其他基本命令</h3> <ol><li>查看当前配置</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git config --list
</code></pre></div><ol start="2"><li>设置默认提交后显示的用户名</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git config --global user.name &quot;tony&quot;
    git config --global user.email &quot;tony@qq.com&quot;
</code></pre></div><h3 id="远程仓库操作"><a href="#远程仓库操作" aria-hidden="true" class="header-anchor">#</a> 远程仓库操作</h3> <ol><li>查看远程仓库</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git remote -v
</code></pre></div><ol start="2"><li>添加远程仓库</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git remote add &lt;depot-name&gt; &lt;remote-url&gt;
</code></pre></div><ol start="3"><li>删除远程仓库</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git remote rm &lt;depot-name&gt;
</code></pre></div><ol start="4"><li>修改远程仓库url</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git remote set-url --push &lt;depot-name&gt; &lt;new-url&gt;
</code></pre></div><ol start="5"><li>重命名远程仓库</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git remote rename &lt;old-depot-name&gt; &lt;new-depot-name&gt;
</code></pre></div><ol start="6"><li>冲远程仓库抓取数据</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git fetch &lt;depot-name&gt;
</code></pre></div><h3 id="分支操作"><a href="#分支操作" aria-hidden="true" class="header-anchor">#</a> 分支操作</h3> <ol><li>查看远程分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git branch -r
</code></pre></div><ol start="2"><li>查看本地分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git branch
</code></pre></div><ol start="3"><li>创建分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git branch &lt;branch-name&gt;
</code></pre></div><ol start="4"><li>修改分支名称</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git branch -m &lt;old-branch-name&gt; &lt;new-branch-name&gt;
</code></pre></div><ol start="5"><li>将分支推送到远程服务器</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git push origin &lt;branch-name&gt;
</code></pre></div><ol start="6"><li>切换分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git checkout &lt;branch-name&gt;
</code></pre></div><ol start="7"><li>删除本地分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git branch --delete &lt;branch-name&gt;
</code></pre></div><ol start="8"><li>删除远程分支</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git push origin :&lt;branch-name&gt;
</code></pre></div><ol start="9"><li>查看几次commit的区别</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git diff
</code></pre></div><ol start="10"><li>查看当前分支状态</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git status
</code></pre></div><ol start="11"><li>合并分支到master</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git merge &lt;branch-name&gt;
    如果有冲突,修改冲突的文件,然后git add ,再git commit
</code></pre></div><h3 id="commit操作"><a href="#commit操作" aria-hidden="true" class="header-anchor">#</a> commit操作</h3> <ol><li>修改上一次提交的comment</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git commit --amend
</code></pre></div><ol start="2"><li>撤销已git add的文件</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git reset HEAD
</code></pre></div><ol start="3"><li>撤销对文件的修改</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git checkout -- &lt;file&gt;
</code></pre></div><ol start="4"><li>git撤销commit</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git log查看日志,找到要回退的commit的hash值
    git reset --hard &lt;commit_hash_id&gt;
</code></pre></div><ol start="5"><li>回退上一个版本</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git reset --hard HEAD^(上一次是HEAD^, 上上次是HEAD^^, 也可写成HEAD~2,以此类推)
    注: --hard 表示放弃所有本地改动
</code></pre></div><ol start="6"><li>清除所有未跟踪文件,包括纳入ignored的文件</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git clean -dxf
</code></pre></div><ol start="7"><li>删除文件,移动文件</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git rm &lt;filename&gt;
    git mv &lt;old-filename&gt; &lt;new-filename&gt;
</code></pre></div><p><strong>出现 以下问题的解决办法:</strong></p> <ol><li>git commit时出现 fatal: cannot do a partial commit during a merge.错误.</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git commit -i &lt;file&gt;
</code></pre></div><p>###git 分支操作例子</p> <p>演示创建分支test-branch，修改本地分支，提交分支远程，最后合并分支变更到指定的分支</p> <ol><li>创建分支 <strong>test-branch</strong></li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git checkout -b test-branch
</code></pre></div><ol start="2"><li>修改本地分支，创建一个新的文件 test.txt并提交修改</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    echo &quot;test&quot; &gt; test.txt
    git commit -a -m &quot;add text.txt&quot;
</code></pre></div><ol start="3"><li>提交增加的分支到远程</li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git push origin test-branch
</code></pre></div><ol start="4"><li>合并 <strong>test-branch</strong> 的内容到 <strong>master</strong></li></ol> <div class="language- extra-class"><pre class="language-text"><code>    git checkout master
    git merge test-branch
    git push
</code></pre></div><p>找回历史提交的版本：git reset --hard 提交哈希号</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/web/js/placeholder.html" class="prev">
          兼容IE低版本浏览器的placeholder
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/11.023f4da4.js" defer></script><script src="/assets/js/app.0af71052.js" defer></script>
  </body>
</html>
